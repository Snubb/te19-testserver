{% extends layout %}
{% block  content %}

    <h2><a href="/tasks/new">Post new task</a></h2>
    <form action="/tasks" method="post">
        <label for="task">Task</label>
        <input type="text" name="task" id="task">
        <button type="submit">Add task</button>
    </form>
    <h1>{{message}}</h1>
    <ul class="task-list">
{% for item in items %}
    <li class="task-list-item">
        <h3>{{ item.task }}</h3>
        <a href="/tasks/{{ item.id }}/edit">Edit task</a>
    {% if item.completed %}
        <p>Completed!</p>
    {% endif %}
    {% if not item.completed %}
        <p>Not completed...</p>
        <form action="/tasks/complete" method="post">
            <input type="hidden" name="taskid" value={{ item.id }}>
            <button type="submit">Complete</button>
        </form>
    {% endif %}
    <form action="/tasks/delete" method="post">
        <input type="hidden" name="taskid" value={{ item.id }}>
        <button type="submit">Delete</button>
    </form>
    </li>
{% else %}
    <li>This would display if the 'item' collection were empty</li>
{% endfor %}
    </ul>
{% endblock %}